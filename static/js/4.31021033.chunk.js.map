{"version":3,"sources":["service/api.js","components/MoviesList/MoviesList.styles.js","components/MoviesList/MoviesList.js","Pages/HomePage/HomePage.jsx"],"names":["API_KEY","BASE_URL","fetchTrendingMovies","a","axios","get","then","data","results","tredingFilms","console","error","fetchSearchingMovies","query","serchingMovies","fetchMovieById","id","res","movieDetails","fetchCastById","cast","getCast","fetchReviewById","getMovieReviews","Ul","styled","ul","Li","li","Img","img","Title","h2","MoviesList","movies","location","useLocation","map","movie","to","pathname","state","from","src","poster_path","alt","title","HomePage","useState","setMovies","status","setStatus","isExact","useRouteMatch","history","useHistory","useEffect","push","lenght","alert"],"mappings":"iWAGMA,EAAU,mCACVC,EAAW,+BAEJC,EAAmB,uCAAG,4BAAAC,EAAA,+EAEJC,IACxBC,IADwB,UACjBJ,EADiB,uCACsBD,IAC1CM,MAAK,qBAAGC,KAAgBC,WAJA,cAEzBC,EAFyB,yBAMxBA,GANwB,gCAQ/BC,QAAQC,MAAR,MAR+B,yDAAH,qDAYnBC,EAAoB,uCAAG,WAAMC,GAAN,eAAAV,EAAA,+EAECC,IAAMC,IAAN,UAAaJ,EAAb,iCAA8CD,EAA9C,4DAAyGa,IAASP,MAAK,qBAAGC,KAAgBC,WAF3I,cAEtBM,EAFsB,yBAGrBA,GAHqB,gCAK5BJ,QAAQC,MAAR,MAL4B,yDAAH,sDASpBI,EAAc,uCAAG,WAAMC,GAAN,eAAAb,EAAA,+EAECC,IACxBC,IADwB,UACjBJ,EADiB,kBACCe,EADD,oBACehB,IACvCM,MAAK,SAAAW,GAAG,OAAIA,EAAIV,QAJO,cAEpBW,EAFoB,yBAKnBA,GALmB,gCAO1BR,QAAQC,MAAR,MAP0B,yDAAH,sDAWdQ,EAAa,uCAAG,WAAMH,GAAN,eAAAb,EAAA,+EAEHC,IACnBC,IADmB,UACZJ,EADY,kBACMe,EADN,4BAC4BhB,IAC/CM,MAAK,SAAAW,GAAG,OAAIA,EAAIV,QAChBD,MAAK,SAAAC,GAAI,OAAIA,EAAKa,QALI,cAEnBC,EAFmB,yBAMlBA,GANkB,gCAQzBX,QAAQC,MAAR,MARyB,yDAAH,sDAYbW,EAAe,uCAAG,WAAMN,GAAN,eAAAb,EAAA,+EAEGC,IAC3BC,IAD2B,UACpBJ,EADoB,kBACFe,EADE,4BACoBhB,IAC/CM,MAAK,SAAAW,GAAG,OAAIA,EAAIV,QAChBD,MAAK,SAAAC,GAAI,OAAIA,EAAKC,WALM,cAErBe,EAFqB,yBAMpBA,GANoB,gCAQ3Bb,QAAQC,MAAR,MAR2B,yDAAH,uD,+EChDfa,EAAKC,IAAOC,GAAV,8RAaFC,EAAKF,IAAOG,GAAV,6VAaFC,EAAMJ,IAAOK,IAAV,oFAMHC,EAAQN,IAAOO,GAAV,iF,OCDHC,IA7Bf,YAAiC,IAAXC,EAAU,EAAVA,OACdC,EAAWC,cACf,OACA,cAACZ,EAAD,UACGU,GACCA,EAAOG,KAAI,SAAAC,GAAK,OACd,eAACX,EAAD,WACE,cAAC,IAAD,CACEY,GAAI,CACFC,SAAS,WAAD,OAAaF,EAAMtB,IAC3ByB,MAAO,CAAEC,KAAMP,IAHnB,SAME,cAACN,EAAD,CACEc,IACEL,EAAMM,YAAN,yCACsCN,EAAMM,aAD5C,8EAIFC,IAAKP,EAAMQ,UAGf,cAACf,EAAD,UAASO,EAAMQ,UAhBRR,EAAMtB,W,yHCkDV+B,UApDf,WACI,MAA4BC,mBAAS,IAArC,mBAAOd,EAAP,KAAee,EAAf,KACA,EAA4BD,mBAAS,QAArC,mBAAOE,EAAP,KAAeC,EAAf,KAEQC,EAAYC,cAAZD,QACJE,EAAUC,cAuBhB,OArBAC,qBAAU,WACHJ,GACHE,EAAQG,KAAK,KAEf,sBAAC,sBAAAtD,EAAA,6DACCgD,EAAU,WADX,kBAGSjD,cAAsBI,MAAK,SAAA4B,GACT,IAAlBA,EAAOwB,SACTP,EAAU,YACVQ,MAAM,WAERV,EAAUf,GACViB,EAAU,eATf,sDAYGQ,MAAM,UAZT,uDAAD,KAeC,CAACL,EAASF,IAELF,GACN,IAAK,OACH,OAAO,wBAET,IAAK,UACH,OAAO,cAAC,IAAD,IACT,IAAK,WACH,OACE,8BACE,cAAC,IAAD,CAAYhB,OAAQA,MAG1B,IAAK,WACH,OACE,8BACE,4EAIN,QACE","file":"static/js/4.31021033.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nconst API_KEY = 'c3e6752e64cec5b5c28af375350e47bc';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const fetchTrendingMovies = async () => {\r\n  try {\r\n    const tredingFilms = await axios\r\n      .get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`)\r\n          .then(({ data }) => data.results);\r\n      \r\n    return tredingFilms;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchSearchingMovies = async query => {\r\n    try {\r\n        const serchingMovies = await axios.get(`${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`).then(({ data }) => data.results);\r\n        return serchingMovies;\r\n    } catch (error){\r\n        console.error(error);\r\n    }\r\n};\r\n\r\nexport const fetchMovieById = async id => {\r\n  try {\r\n    const movieDetails = await axios\r\n      .get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`)\r\n      .then(res => res.data);\r\n    return movieDetails;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchCastById = async id => {\r\n  try {\r\n    const getCast = await axios\r\n      .get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`)\r\n      .then(res => res.data)\r\n      .then(data => data.cast);\r\n    return getCast;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchReviewById = async id => {\r\n  try {\r\n    const getMovieReviews = await axios\r\n      .get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`)\r\n      .then(res => res.data)\r\n      .then(data => data.results);\r\n    return getMovieReviews;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};","import styled from \"@emotion/styled\";\r\n\r\nexport const Ul = styled.ul`\r\ndisplay: grid;\r\n  max-width: calc(100vw - 200px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 60px;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const Li = styled.li`\r\n overflow: hidden;\r\n  background-color: rgb(247 68 8);\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover{\r\n       transform: scale(1.05);\r\n  cursor: pointer;\r\n  }\r\n  `;\r\n\r\nexport const Img = styled.img`\r\n  width: 100%;\r\n  height: 500px;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const Title = styled.h2`\r\ntext-align: center;\r\n  color: rgb(255, 255, 255);\r\n  `;","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Img, Li,  Title, Ul } from './MoviesList.styles';\r\n\r\nfunction MoviesList({ movies }) {\r\n  const location = useLocation();\r\n    return (\r\n    <Ul>\r\n      {movies &&\r\n        movies.map(movie => (\r\n          <Li key={movie.id}>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${movie.id}`,\r\n                state: { from: location },\r\n              }}\r\n            >\r\n              <Img\r\n                src={\r\n                  movie.poster_path\r\n                    ? `https://image.tmdb.org/t/p/w300${movie.poster_path}`\r\n                    : `https://www.peakndt.com/wp-content/uploads/2017/02/No_picture_available.png`\r\n                }\r\n                alt={movie.title}                \r\n              ></Img>\r\n            </Link>\r\n            <Title >{movie.title}</Title>\r\n          </Li>\r\n        ))}\r\n    </Ul>\r\n  );\r\n}\r\n\r\nexport default MoviesList\r\n","import {useState,useEffect} from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport LoaderSpiner from '../../components/LoaderSpiner/LoaderSpiner';\r\nimport MoviesList from '../../components/MoviesList/MoviesList';\r\nimport { fetchTrendingMovies } from '../../service/api';\r\n\r\n\r\n\r\nfunction HomePage() {\r\n    const [movies, setMovies] = useState([]);\r\n    const [status, setStatus] = useState('idle');\r\n     \r\n    const { isExact } = useRouteMatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (!isExact) {\r\n      history.push('/');\r\n    }\r\n    (async () => {\r\n      setStatus('pending');\r\n      try {\r\n        await fetchTrendingMovies().then(movies => {\r\n          if (movies.lenght === 0) {\r\n            setStatus('rejected');\r\n            alert(`Error!`);\r\n          }\r\n          setMovies(movies);\r\n          setStatus('resolved');\r\n        });\r\n      } catch (error) {\r\n        alert(`Error!`);\r\n      }\r\n    })();\r\n  }, [history, isExact]);\r\n    \r\n  switch (status) {\r\n    case 'idle':\r\n      return <div></div>;\r\n\r\n    case 'pending':\r\n      return <LoaderSpiner/>;\r\n    case 'resolved':\r\n      return (\r\n        <div>\r\n          <MoviesList movies={movies} />\r\n        </div>\r\n      );\r\n    case 'rejected':\r\n      return (\r\n        <div>\r\n          <h2>Something goes wrong! Reload page please</h2>\r\n        </div>\r\n      );\r\n\r\n    default:\r\n      return;\r\n  }\r\n}\r\n\r\nexport default HomePage\r\n"],"sourceRoot":""}