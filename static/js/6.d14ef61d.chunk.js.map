{"version":3,"sources":["service/api.js","components/MovieDetails/MovieDetails.styles.js","components/MovieDetails/MovieDetails.js","Pages/MovieDetailsPage/MovieDetailsPage.styles.js","Pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["API_KEY","BASE_URL","fetchTrendingMovies","a","axios","get","then","data","results","tredingFilms","console","error","fetchSearchingMovies","query","serchingMovies","fetchMovieById","id","res","movieDetails","fetchCastById","cast","getCast","fetchReviewById","getMovieReviews","Btn","styled","button","Container","div","Img","img","Div","MovieTitle","h2","Text","p","Span","span","MovieDescrTitle","h3","MovieDescriptionText","Li","li","MovieDetails","movie","onClick","type","src","poster_path","alt","original_title","title","release_date","slice","vote_average","overview","genres","map","genre","name","LinkNav","NavLink","Cast","lazy","Reviews","MovieDetailsPage","movieId","useParams","useState","setMovie","urlLocation","setUrlLocation","url","useRouteMatch","location","useLocation","history","useHistory","useEffect","path","state","from","pathname","search","locationParam","push","to","fallback","LoaderSpiner"],"mappings":"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","file":"static/js/6.d14ef61d.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nconst API_KEY = 'c3e6752e64cec5b5c28af375350e47bc';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const fetchTrendingMovies = async () => {\r\n  try {\r\n    const tredingFilms = await axios\r\n      .get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`)\r\n          .then(({ data }) => data.results);\r\n      \r\n    return tredingFilms;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchSearchingMovies = async query => {\r\n    try {\r\n        const serchingMovies = await axios.get(`${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`).then(({ data }) => data.results);\r\n        return serchingMovies;\r\n    } catch (error){\r\n        console.error(error);\r\n    }\r\n};\r\n\r\nexport const fetchMovieById = async id => {\r\n  try {\r\n    const movieDetails = await axios\r\n      .get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`)\r\n      .then(res => res.data);\r\n    return movieDetails;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchCastById = async id => {\r\n  try {\r\n    const getCast = await axios\r\n      .get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`)\r\n      .then(res => res.data)\r\n      .then(data => data.cast);\r\n    return getCast;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchReviewById = async id => {\r\n  try {\r\n    const getMovieReviews = await axios\r\n      .get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`)\r\n      .then(res => res.data)\r\n      .then(data => data.results);\r\n    return getMovieReviews;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};","import styled from \"@emotion/styled\";\r\n\r\nexport const Btn = styled.button`\r\ntop: 15px;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  border: 1px solid #000000;\r\n  padding: 10px;\r\n  margin: 10px;\r\n  background: chartreuse;\r\n  border-radius: 10px;\r\n  font-weight: 600;\r\n  font-size: 24px;\r\n  line-height: 18px;\r\n  color: #000000;\r\n  text-decoration: none;\r\n\r\n  &:hover{\r\n      background: #2f8b57;\r\n  color: #ffffff;\r\n  border-color: #ffffff;\r\n  }\r\n`;\r\n\r\nexport const Container = styled.div`\r\ndisplay: flex;\r\n  max-width: 882px;\r\n  padding-left: 30px;\r\n  padding-right: 30px;\r\n  padding-top: 20px;\r\n  padding-bottom: 40px;\r\n`;\r\n\r\nexport const Img = styled.img`\r\n width: 300px;\r\n  height: auto;\r\n  object-fit: cover;\r\n  margin-right: 50px;\r\n  border-radius: 10px;\r\n  border: 2px solid #ffffff;\r\n`;\r\n\r\nexport const Div = styled.div`\r\n padding-left: 40px;\r\n`;\r\n\r\nexport const MovieTitle = styled.h2`\r\n margin: 0;\r\n  margin-bottom: 35px;\r\n  text-align: center;\r\n  font-size: 30px;\r\n  text-transform: uppercase;\r\n  color: red;\r\n  \r\n`;\r\n\r\n\r\nexport const Text = styled.p`\r\nfont-size: 20px;\r\n  line-height: 1.42;\r\n  color: rgb(255, 255, 255);\r\n`;\r\n\r\nexport const Span = styled.span`\r\nmargin: 3px;\r\n  padding-left: 4px;\r\n  display: inline-block;\r\n  border: 2px solid #ffffff;\r\n  border-radius: 7px;\r\n  color: #ffffff;\r\n  background-color: green;\r\n  `;\r\n\r\nexport const MovieDescrTitle = styled.h3`\r\nmargin-left: 10px;\r\n  margin-bottom: 20px;\r\n  color:yellow;\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const MovieDescriptionText = styled.p`\r\nmargin-bottom: 20px;\r\n  font-weight: 400;\r\n  font-size: 16px;\r\n  line-height: 1.17;\r\n  color: #ffffff;\r\n`;\r\n\r\nexport const Li = styled.li`\r\nlist-style: inside;\r\n  color: #ffffff;\r\n  `;\r\n","import React from 'react';\r\nimport { Div,Btn, Container, Img, MovieTitle,Text, Span, MovieDescrTitle,MovieDescriptionText, Li } from './MovieDetails.styles'\r\n\r\nfunction MovieDetails({ movie, onClick }) {\r\n    return (\r\n        <>\r\n            {movie && (\r\n                <div>\r\n                    <Btn type=\"button\" onClick={onClick}>\r\n                        Go back\r\n                    </Btn>\r\n\r\n                    <Container>\r\n                        <Img\r\n                        src={\r\n                            movie.poster_path\r\n                            ? `https://image.tmdb.org/t/p/w500${movie.poster_path}`\r\n                            : `https://www.peakndt.com/wp-content/uploads/2017/02/No_picture_available.png`\r\n                        }\r\n                        alt={movie.original_title}         \r\n                        />\r\n                        <Div>\r\n                            <MovieTitle >\r\n                                {movie.title} ({movie.release_date.slice(0, 4)})\r\n                            </MovieTitle>\r\n                            <Text>\r\n                                User Score:\r\n                                <Span>{movie.vote_average * 10}%</Span>\r\n                            </Text>\r\n                            <MovieDescrTitle>Overview</MovieDescrTitle>\r\n                            <MovieDescriptionText>{movie.overview}</MovieDescriptionText>\r\n                            <MovieTitle>Genres:</MovieTitle>\r\n                            <ul>\r\n                                {movie.genres &&\r\n                                movie.genres.map(genre => (\r\n                                    <Li key={genre.id}>\r\n                                    {genre.name}\r\n                                    </Li>\r\n                                ))}\r\n                            </ul>\r\n                        </Div>\r\n                    </Container>\r\n                </div>\r\n            )}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default MovieDetails\r\n","import styled from \"@emotion/styled\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nexport const Div = styled.div`\r\nmargin-left: 50px;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nexport const Text = styled.p`\r\nmargin-left: 10px;\r\n  margin-bottom: 20px;\r\n  color: rgb(241, 241, 181);\r\n  font-size: 24px;\r\n  line-height: 1.42;\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const LinkNav = styled(NavLink)`\r\nborder: 1px solid #000000;\r\n  padding: 5px;\r\n  margin-left: 10px;\r\n  background: cyan;\r\n  border-radius: 5px;\r\n  font-weight: 500;\r\n  font-size: 20px;\r\n  line-height: 18px;\r\n  color: #000000;\r\n  text-decoration: none;\r\n\r\n  &:hover{\r\n       background: #2f8b57;\r\n  color: #ffffff;\r\n  border-color: #ffffff;\r\n  }\r\n  `;","import { useEffect, useState, lazy, Suspense } from 'react';\r\nimport { Route, Switch, useHistory, useLocation, useParams, useRouteMatch } from 'react-router-dom';\r\nimport MovieDetails from '../../components/MovieDetails/MovieDetails';\r\nimport { fetchMovieById } from '../../service/api';\r\nimport { Div, LinkNav, Text } from './MovieDetailsPage.styles';\r\n// import Cast from '../../components/Cast/Cast';\r\n// import Reviews from '../../components/Reviews/Reviews';\r\nimport LoaderSpiner from '../../components/LoaderSpiner/LoaderSpiner';\r\n\r\nconst Cast = lazy(() => import('../../components/Cast/Cast'));\r\nconst Reviews = lazy(() => import('../../components/Reviews/Reviews'));\r\n\r\nfunction MovieDetailsPage() {\r\n    const { movieId } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n    const [urlLocation, setUrlLocation] = useState('');\r\n    \r\n    const { url } = useRouteMatch();\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n\r\n    const locationParam = () => {\r\n    const path = location.state?.from.pathname;\r\n    const search = location.state?.from.search;\r\n    setUrlLocation({\r\n      path: path,\r\n      search: search,\r\n    });\r\n  };\r\n    \r\n  useEffect(() => {\r\n    fetchMovieById(movieId).then(movie => setMovie(movie))\r\n  }, [movieId]);\r\n\r\n  useEffect(() => {\r\n    locationParam();\r\n  }, []);\r\n\r\n  const onBackBtn = () => {\r\n    if (`${urlLocation.path}`||`${urlLocation.search}` === 'undefined') {\r\n      history.push('/');\r\n    }\r\n      history.push(`${urlLocation.path}${urlLocation.search}`);\r\n  };\r\n\r\n    \r\n    return (\r\n    <>\r\n      <MovieDetails movie={movie} onClick={onBackBtn} />\r\n\r\n      <hr />\r\n      <Div>\r\n            <Text>Additional information</Text>\r\n            <LinkNav\r\n            to={`${url}/cast`}            \r\n            >\r\n            Cast\r\n            </LinkNav>\r\n            <LinkNav\r\n            to={`${url}/reviews`}\r\n            >\r\n            Reviews\r\n            </LinkNav>\r\n\r\n            <Switch>\r\n                <Route path=\"/movies/:movieId/cast\">\r\n                <Cast/>\r\n                </Route>\r\n                <Route path=\"/movies/:movieId/reviews\">\r\n                <Reviews />\r\n                </Route>\r\n            </Switch>\r\n            <Suspense fallback={<LoaderSpiner />}>\r\n            <Switch>\r\n                <Route path=\"/movies/:movieId/cast\">\r\n                <Cast />\r\n                </Route>\r\n                <Route path=\"/movies/:movieId/reviews\">\r\n                <Reviews />\r\n                </Route>\r\n            </Switch>\r\n            </Suspense>\r\n      </Div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MovieDetailsPage\r\n"],"sourceRoot":""}