{"version":3,"sources":["service/api.js","components/MoviesList/MoviesList.styles.js","components/MoviesList/MoviesList.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/SearchBar/SearchBar.styles.js","components/SearchBar/SearchBar.js","Pages/MoviesPage/MoviesPage.js"],"names":["API_KEY","BASE_URL","fetchTrendingMovies","a","axios","get","then","data","results","tredingFilms","console","error","fetchSearchingMovies","query","serchingMovies","fetchMovieById","id","res","movieDetails","fetchCastById","cast","getCast","fetchReviewById","getMovieReviews","Ul","styled","ul","Li","li","Img","img","Title","h2","MoviesList","movies","location","useLocation","map","movie","to","pathname","state","from","src","poster_path","alt","title","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","Header","header","Form","form","Button","button","SearchFormButtonLabel","span","SearchFormInput","input","SearchBar","onSubmit","useState","name","setName","e","preventDefault","trim","alert","type","onChange","currentTarget","toLowerCase","placeholder","MoviesPage","setMovies","history","useHistory","status","setStatus","searchQuery","URLSearchParams","search","useEffect","handleSubmit"],"mappings":"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","file":"static/js/5.305196ec.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\n\r\nconst API_KEY = 'c3e6752e64cec5b5c28af375350e47bc';\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\n\r\nexport const fetchTrendingMovies = async () => {\r\n  try {\r\n    const tredingFilms = await axios\r\n      .get(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}`)\r\n          .then(({ data }) => data.results);\r\n      \r\n    return tredingFilms;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchSearchingMovies = async query => {\r\n    try {\r\n        const serchingMovies = await axios.get(`${BASE_URL}/search/movie?api_key=${API_KEY}&language=en-US&page=1&include_adult=false&query=${query}`).then(({ data }) => data.results);\r\n        return serchingMovies;\r\n    } catch (error){\r\n        console.error(error);\r\n    }\r\n};\r\n\r\nexport const fetchMovieById = async id => {\r\n  try {\r\n    const movieDetails = await axios\r\n      .get(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`)\r\n      .then(res => res.data);\r\n    return movieDetails;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchCastById = async id => {\r\n  try {\r\n    const getCast = await axios\r\n      .get(`${BASE_URL}/movie/${id}/credits?api_key=${API_KEY}`)\r\n      .then(res => res.data)\r\n      .then(data => data.cast);\r\n    return getCast;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};\r\n\r\nexport const fetchReviewById = async id => {\r\n  try {\r\n    const getMovieReviews = await axios\r\n      .get(`${BASE_URL}/movie/${id}/reviews?api_key=${API_KEY}`)\r\n      .then(res => res.data)\r\n      .then(data => data.results);\r\n    return getMovieReviews;\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n};","import styled from \"@emotion/styled\";\r\n\r\nexport const Ul = styled.ul`\r\ndisplay: grid;\r\n  max-width: calc(100vw - 200px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 60px;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const Li = styled.li`\r\n overflow: hidden;\r\n  background-color: rgb(247 68 8);\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover{\r\n       transform: scale(1.05);\r\n  cursor: pointer;\r\n  }\r\n  `;\r\n\r\nexport const Img = styled.img`\r\n  width: 100%;\r\n  height: 500px;\r\n  object-fit: cover;\r\n`;\r\n\r\nexport const Title = styled.h2`\r\ntext-align: center;\r\n  color: rgb(255, 255, 255);\r\n  `;","import React from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { Img, Li,  Title, Ul } from './MoviesList.styles';\r\n\r\nfunction MoviesList({ movies }) {\r\n  const location = useLocation();\r\n    return (\r\n    <Ul>\r\n      {movies &&\r\n        movies.map(movie => (\r\n          <Li key={movie.id}>\r\n            <Link\r\n              to={{\r\n                pathname: `/movies/${movie.id}`,\r\n                state: { from: location },\r\n              }}\r\n            >\r\n              <Img\r\n                src={\r\n                  movie.poster_path\r\n                    ? `https://image.tmdb.org/t/p/w300${movie.poster_path}`\r\n                    : `https://www.peakndt.com/wp-content/uploads/2017/02/No_picture_available.png`\r\n                }\r\n                alt={movie.title}                \r\n              ></Img>\r\n            </Link>\r\n            <Title >{movie.title}</Title>\r\n          </Li>\r\n        ))}\r\n    </Ul>\r\n  );\r\n}\r\n\r\nexport default MoviesList\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import styled from \"@emotion/styled\";\r\n\r\nexport const Header = styled.header`\r\n top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n`;\r\n\r\nexport const Form = styled.form`\r\ndisplay: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n  border: 2px solid seagreen;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-color: #673ab7;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover{\r\n      opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const SearchFormButtonLabel = styled.span`\r\n position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const SearchFormInput=styled.input`\r\ndisplay: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n`;\r\n\r\n","import { useState } from 'react';\r\nimport { Header,Form,Button,SearchFormButtonLabel,SearchFormInput} from './SearchBar.styles';\r\n// import PropTypes from 'prop-types';\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [name, setName] = useState('');\r\n\r\n  const handleNameChange = e => {\r\n    setName(e.currentTarget.value.toLowerCase());\r\n    };\r\n    \r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (name.trim() === '') {\r\n      alert('Enter valid name,please!');\r\n      return;\r\n    }\r\n    onSubmit(name);\r\n    setName('');\r\n  };\r\n\r\n  return (\r\n    <Header >\r\n      <Form  onSubmit={handleSubmit}>\r\n        <Button type=\"submit\" >\r\n          <SearchFormButtonLabel ></SearchFormButtonLabel>\r\n        </Button>\r\n\r\n        <SearchFormInput\r\n          onChange={handleNameChange}\r\n          \r\n          type=\"text\"\r\n          value={name}\r\n          placeholder=\"Search Movies\"\r\n        />\r\n      </Form>\r\n    </Header>\r\n  );\r\n}\r\n\r\n// SearchBar.propTypes = {\r\n//   onSubmit: PropTypes.func.isRequired,\r\n// };","import { useState, useEffect } from 'react';\r\nimport SearchBar from '../../components/SearchBar/SearchBar';\r\nimport { useHistory, useLocation } from 'react-router-dom';\r\nimport { fetchSearchingMovies } from '../../service/api';\r\nimport MoviesList from '../../components/MoviesList/MoviesList';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function MoviesPage() {\r\n  const [movies, setMovies] = useState([]);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [status, setStatus] = useState('idle');\r\n  const searchQuery = new URLSearchParams(location.search).get('query');\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) return;\r\n    (async () => {\r\n      setStatus('pending');\r\n      try {\r\n        await fetchSearchingMovies(searchQuery).then(movies => {\r\n          if (!movies.length) {\r\n            alert(`\"${searchQuery}\" not finded! Try again please. `);\r\n            setStatus('rejected');\r\n            alert('No results found for this query');\r\n          } else {\r\n            setMovies(movies);\r\n            setStatus('resolved');\r\n          }\r\n        });\r\n      } catch (error) {}\r\n    })();\r\n  }, [searchQuery]);\r\n\r\n  const handleSubmit = query => {\r\n    if (!query || query === searchQuery) return;\r\n\r\n    setMovies([]);\r\n\r\n    history.push({\r\n      ...location,\r\n      search: `query=${query}`,\r\n    });\r\n  };\r\n\r\n  switch (status) {\r\n    case 'idle':\r\n      return (\r\n        <div>\r\n          <SearchBar onSubmit={handleSubmit} />\r\n          <h1>Search your favorites movies here!</h1>\r\n        </div>\r\n      );\r\n    case 'pending':\r\n      return <SearchBar onSubmit={handleSubmit} />;\r\n    case 'resolved':\r\n      return (\r\n        <>\r\n          <SearchBar onSubmit={handleSubmit} />\r\n          <MoviesList movies={movies} />\r\n        </>\r\n      );\r\n    case 'rejected':\r\n      return (\r\n        <>\r\n          <SearchBar onSubmit={handleSubmit} />\r\n        </>\r\n      );\r\n\r\n    default:\r\n      return;\r\n  }\r\n}\r\n\r\nMoviesPage.propTypes = {\r\n  handleSubmit: PropTypes.func.isRequired,\r\n};"],"sourceRoot":""}